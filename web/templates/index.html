<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GhostTalk - ÂåøÂêçËØ≠Èü≥ÂºÄÈªë</title>
    <link rel="stylesheet" href="/static/css/style.css?v={{.Version}}">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üëª</text></svg>">
</head>

<body>
    <div id="app">
        <!-- Join View -->
        <div id="join-view" class="view">
            <div class="card">
                <h1>GhostTalk</h1>
                <p>ÂåøÂêç„ÄÅ‰∏¥Êó∂„ÄÅ‰ΩéÂª∂ËøüËØ≠Èü≥</p>
                <div class="input-group">
                    <input type="text" id="nickname" placeholder="ËæìÂÖ•‰Ω†ÁöÑÊòµÁß∞..." maxlength="12">
                    <button id="btn-join">ËøõÂÖ•ÊàøÈó¥</button>
                </div>
                <p id="room-info" class="hint"></p>
            </div>
        </div>

        <!-- Room View -->
        <div id="room-view" class="view hidden">
            <div class="sidebar">
                <div class="room-header">
                    <h3 id="display-room-id">ÊàøÈó¥</h3>
                </div>
                <div id="user-list" class="user-list">
                    <!-- Users will be injected here -->
                </div>
                <div class="controls">
                    <button id="btn-mute" class="control-btn" title="ÂàáÊç¢È∫¶ÂÖãÈ£é (ÈùôÈü≥/ÂºÄÂêØ)">
                        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                            <line x1="12" y1="19" x2="12" y2="23"></line>
                            <line x1="8" y1="23" x2="16" y2="23"></line>
                        </svg>
                    </button>
                    <button id="btn-mixer" class="control-btn" title="Èü≥ÈáèÈù¢Êùø">
                        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
                            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                        </svg>
                    </button>
                    <button id="btn-leave" class="control-btn btn-danger" title="Êñ≠ÂºÄËøûÊé•">
                        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91">
                            </path>
                            <line x1="23" y1="1" x2="1" y2="23"></line>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="main-stage">
                <div class="stage-content">
                    <div id="network-status" class="network-status hidden">
                        <div class="network-icon-wrapper">
                            <svg class="signal-icon" viewBox="0 0 24 24">
                                <rect class="signal-bar bar-1" x="2" y="14" width="6" height="8" rx="1" />
                                <rect class="signal-bar bar-2" x="9" y="8" width="6" height="14" rx="1" />
                                <rect class="signal-bar bar-3" x="16" y="2" width="6" height="20" rx="1" />
                            </svg>
                        </div>
                        <div class="network-details">
                            <span id="net-rtt">-- ms</span>
                            <span class="divider">|</span>
                            <span id="net-loss">--% ‰∏¢ÂåÖ</span>
                        </div>
                    </div>
                    <div id="avatar-grid" class="avatar-grid">
                        <!-- Avatars will be injected here -->
                    </div>
                    <div id="mixer-panel" class="mixer-panel" aria-live="polite">
                        <div class="mixer-global">
                            <div class="mixer-section">
                                <div class="mixer-title">È∫¶ÂÖãÈ£éÂ¢ûÁõä</div>
                                <div class="mixer-row">
                                    <span class="mixer-label">Êàë</span>
                                    <input id="mic-gain" class="mixer-slider" type="range" min="0" max="200" value="100"
                                        step="1" aria-label="È∫¶ÂÖãÈ£éÂ¢ûÁõä">
                                    <span id="mic-gain-value" class="mixer-value">100%</span>
                                </div>
                            </div>
                            <div class="mixer-section">
                                <div class="mixer-title">Êí≠ÊîæËÆæÂ§á</div>
                                <div class="mixer-row mixer-row-select">
                                    <span class="mixer-label">ËæìÂá∫</span>
                                    <select id="playback-device" class="mixer-select" aria-label="Êí≠ÊîæËÆæÂ§á"></select>
                                </div>
                                <div id="playback-help" class="mixer-help"></div>
                            </div>
                            <div class="mixer-section">
                                <div class="mixer-title">ËæìÂÖ•ËÆæÂ§á</div>
                                <div class="mixer-row mixer-row-select">
                                    <span class="mixer-label">ËæìÂÖ•</span>
                                    <select id="input-device" class="mixer-select" aria-label="ËæìÂÖ•ËÆæÂ§á"></select>
                                </div>
                                <div id="input-help" class="mixer-help"></div>
                            </div>
                            <div class="mixer-section">
                                <div class="mixer-title">ÈôçÂô™ËÆæÁΩÆ</div>
                                <div class="mixer-row mixer-row-toggle">
                                    <span class="mixer-label">ÂõûÂ£∞Ê∂àÈô§</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="echo-cancellation" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="mixer-row mixer-row-toggle">
                                    <span class="mixer-label">Âô™Â£∞ÊäëÂà∂</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="noise-suppression" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div id="noise-help" class="mixer-help"></div>
                            </div>
                        </div>
                        <div class="mixer-peers">
                            <div class="mixer-section">
                                <div class="mixer-title">ÊàêÂëòÈü≥Èáè</div>
                                <div id="peer-volume-list" class="mixer-list"></div>
                                <div id="peer-volume-empty" class="mixer-empty">ÊöÇÊó†ÂÖ∂‰ªñÊàêÂëò</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <button id="btn-copy">Â§çÂà∂ÈÇÄËØ∑ÈìæÊé•</button>
                    <span class="version-info" title="ÊûÑÂª∫Êó∂Èó¥: {{.BuildTime}}">v{{.Version}}</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio elements will be managed dynamically by JS -->
    <div id="audio-container" class="audio-container" aria-hidden="true"></div>

    <script src="/static/js/config.js?v={{.Version}}"></script>
    <script src="/static/js/audio_controls.js?v={{.Version}}"></script>
    <script src="/static/js/app.js?v={{.Version}}"></script>
</body>

</html>
